<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Session 1760846149243-fd93259f â€“ Entrance Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <style>html,body,#map{height:100%;margin:0;padding:0}</style>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' data: blob: https://unpkg.com https://server.arcgisonline.com; style-src 'self' 'unsafe-inline' https://unpkg.com; img-src * data: blob:;" />
  <meta name="robots" content="noindex" />
  <link rel="icon" href="data:," />
  </head>
<body>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script>
    const south = 47.6278435;
    const west = -122.1270451;
    const north = 47.6313733;
    const east = -122.1217064;
    const center = [47.6301672, -122.1244321];
    const entrance = [47.631294746759295, -122.12438506720873];
    const cnn = null;
    const road = [47.630143830396335, -122.124431854655];

    const map = L.map('map', { zoomControl: true });
    L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: 'Esri, Maxar, Earthstar Geographics, and the GIS User Community'
    }).addTo(map);
    const footprint = {"type":"Polygon","coordinates":[[[-122.1270451,47.6313733],[-122.1270417,47.630901],[-122.127024,47.6284556],[-122.1270202,47.6279261],[-122.1248377,47.6278762],[-122.1243592,47.627869],[-122.1234784,47.6278702],[-122.1231622,47.627868],[-122.1218655,47.6278588],[-122.1217175,47.6278435],[-122.1217064,47.6293385],[-122.1218065,47.6294334],[-122.1218543,47.6310745],[-122.1218379,47.6312089],[-122.1218653,47.6312378],[-122.1219592,47.6312506],[-122.1220837,47.6312494],[-122.1235266,47.6312788],[-122.1244956,47.6312968],[-122.1270451,47.6313733]]]};
    if (footprint) {
      const layer = L.geoJSON(footprint, { style: { color: '#1e90ff', weight: 2, fillOpacity: 0.15 } }).addTo(map);
      try { map.fitBounds(layer.getBounds(), { padding: [20, 20] }); } catch { map.setView(center, 19); }
    } else {
      const bounds = L.latLngBounds([ [south, west], [north, east] ]);
      map.fitBounds(bounds, { padding: [20, 20] });
    }
    L.marker(center, { title: 'Center' }).addTo(map).bindPopup('Center');
    if (road) L.marker(road, { title: 'Nearest road', icon: L.divIcon({className:'', html:'<div style="width:12px;height:12px;background:gold;border:2px solid #333;border-radius:50%"></div>'}) }).addTo(map).bindPopup('Nearest road point');
    L.marker(entrance, { title: 'Entrance', icon: L.divIcon({className:'', html:'<div style="width:14px;height:14px;background:#e33;border:2px solid #600;border-radius:50%"></div>'}) }).addTo(map).bindPopup('Heuristic entrance');
    if (cnn) L.marker(cnn, { title: 'CNN entrance', icon: L.divIcon({className:'', html:'<div style="width:14px;height:14px;background:#2680ff;border:2px solid #063c9d;border-radius:50%"></div>'}) }).addTo(map).bindPopup('CNN entrance');
  </script>
 </body>
 </html>